<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Learn to use and manage feature flags in .NET Core, locally and with Azure</title>
    <meta name="description" content="[object Object]">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="preload" href="/assets/css/0.styles.ef35a4d2.css" as="style"><link rel="preload" href="/assets/js/app.db3c62db.js" as="script"><link rel="preload" href="/assets/js/9.454b5262.js" as="script"><link rel="preload" href="/assets/js/4.eac68367.js" as="script"><link rel="preload" href="/assets/js/144.7775d6c9.js" as="script"><link rel="prefetch" href="/assets/js/1.36663999.js"><link rel="prefetch" href="/assets/js/10.dd884694.js"><link rel="prefetch" href="/assets/js/100.d350c93e.js"><link rel="prefetch" href="/assets/js/101.a0f346f6.js"><link rel="prefetch" href="/assets/js/102.5aee7553.js"><link rel="prefetch" href="/assets/js/103.cd40300c.js"><link rel="prefetch" href="/assets/js/104.3f860f10.js"><link rel="prefetch" href="/assets/js/105.f8ebea5d.js"><link rel="prefetch" href="/assets/js/106.84577e76.js"><link rel="prefetch" href="/assets/js/107.27ac0460.js"><link rel="prefetch" href="/assets/js/108.2615d80d.js"><link rel="prefetch" href="/assets/js/109.a0275c41.js"><link rel="prefetch" href="/assets/js/11.e44a9c79.js"><link rel="prefetch" href="/assets/js/110.e0b89e24.js"><link rel="prefetch" href="/assets/js/111.85c1f355.js"><link rel="prefetch" href="/assets/js/112.83b57936.js"><link rel="prefetch" href="/assets/js/113.30083b82.js"><link rel="prefetch" href="/assets/js/114.2dcc568f.js"><link rel="prefetch" href="/assets/js/115.2ee55351.js"><link rel="prefetch" href="/assets/js/116.7f8fe402.js"><link rel="prefetch" href="/assets/js/117.ca8b3931.js"><link rel="prefetch" href="/assets/js/118.8bd003cb.js"><link rel="prefetch" href="/assets/js/119.d1d06b3e.js"><link rel="prefetch" href="/assets/js/12.e184416b.js"><link rel="prefetch" href="/assets/js/120.dab30e46.js"><link rel="prefetch" href="/assets/js/121.9d3257d5.js"><link rel="prefetch" href="/assets/js/122.21f57fef.js"><link rel="prefetch" href="/assets/js/123.826f7c41.js"><link rel="prefetch" href="/assets/js/124.c134f35c.js"><link rel="prefetch" href="/assets/js/125.88e1d9ef.js"><link rel="prefetch" href="/assets/js/126.1d33b1c8.js"><link rel="prefetch" href="/assets/js/127.882b658e.js"><link rel="prefetch" href="/assets/js/128.4387dd5e.js"><link rel="prefetch" href="/assets/js/129.350431a1.js"><link rel="prefetch" href="/assets/js/13.215ad842.js"><link rel="prefetch" href="/assets/js/130.62aa76ba.js"><link rel="prefetch" href="/assets/js/131.4a9b4652.js"><link rel="prefetch" href="/assets/js/132.067ac058.js"><link rel="prefetch" href="/assets/js/133.f925bfac.js"><link rel="prefetch" href="/assets/js/134.4b3c8ed1.js"><link rel="prefetch" href="/assets/js/135.96f53f83.js"><link rel="prefetch" href="/assets/js/136.8bd779e9.js"><link rel="prefetch" href="/assets/js/137.71cefa4d.js"><link rel="prefetch" href="/assets/js/138.3cb402cc.js"><link rel="prefetch" href="/assets/js/139.0480e428.js"><link rel="prefetch" href="/assets/js/14.1a060010.js"><link rel="prefetch" href="/assets/js/140.afa32967.js"><link rel="prefetch" href="/assets/js/141.03aaff81.js"><link rel="prefetch" href="/assets/js/142.d2c0dd55.js"><link rel="prefetch" href="/assets/js/143.3db9c299.js"><link rel="prefetch" href="/assets/js/145.750f54ca.js"><link rel="prefetch" href="/assets/js/146.ce90e1b5.js"><link rel="prefetch" href="/assets/js/147.bb809de9.js"><link rel="prefetch" href="/assets/js/148.9c076f3a.js"><link rel="prefetch" href="/assets/js/149.70062715.js"><link rel="prefetch" href="/assets/js/15.34674cd6.js"><link rel="prefetch" href="/assets/js/150.3eb04a33.js"><link rel="prefetch" href="/assets/js/151.9c7af9fc.js"><link rel="prefetch" href="/assets/js/152.86614e8d.js"><link rel="prefetch" href="/assets/js/153.96a63cd3.js"><link rel="prefetch" href="/assets/js/154.b3f1f8dc.js"><link rel="prefetch" href="/assets/js/155.856f98be.js"><link rel="prefetch" href="/assets/js/156.3b2b9b5f.js"><link rel="prefetch" href="/assets/js/157.71fb8687.js"><link rel="prefetch" href="/assets/js/158.516c87fc.js"><link rel="prefetch" href="/assets/js/159.52b7d653.js"><link rel="prefetch" href="/assets/js/16.119e91d4.js"><link rel="prefetch" href="/assets/js/160.9ab8d57c.js"><link rel="prefetch" href="/assets/js/161.8b79f713.js"><link rel="prefetch" href="/assets/js/162.f321f983.js"><link rel="prefetch" href="/assets/js/163.f427055c.js"><link rel="prefetch" href="/assets/js/164.011a4165.js"><link rel="prefetch" href="/assets/js/165.fb04e357.js"><link rel="prefetch" href="/assets/js/166.22aa118b.js"><link rel="prefetch" href="/assets/js/167.9b3a7654.js"><link rel="prefetch" href="/assets/js/168.809a29e6.js"><link rel="prefetch" href="/assets/js/169.5ad4e8f0.js"><link rel="prefetch" href="/assets/js/17.86bc7706.js"><link rel="prefetch" href="/assets/js/170.aec3fd57.js"><link rel="prefetch" href="/assets/js/171.32dbd986.js"><link rel="prefetch" href="/assets/js/172.601575f2.js"><link rel="prefetch" href="/assets/js/173.52dd154d.js"><link rel="prefetch" href="/assets/js/174.5ba6300a.js"><link rel="prefetch" href="/assets/js/175.2f89e69b.js"><link rel="prefetch" href="/assets/js/176.9dc0eac7.js"><link rel="prefetch" href="/assets/js/177.1c365624.js"><link rel="prefetch" href="/assets/js/178.91caba05.js"><link rel="prefetch" href="/assets/js/179.9c911a6e.js"><link rel="prefetch" href="/assets/js/18.cd87a72e.js"><link rel="prefetch" href="/assets/js/180.80655cbf.js"><link rel="prefetch" href="/assets/js/181.ed85d983.js"><link rel="prefetch" href="/assets/js/182.1e17fc78.js"><link rel="prefetch" href="/assets/js/183.02acffe6.js"><link rel="prefetch" href="/assets/js/184.9243297f.js"><link rel="prefetch" href="/assets/js/185.f8354684.js"><link rel="prefetch" href="/assets/js/186.d7462eed.js"><link rel="prefetch" href="/assets/js/187.26d2f0ca.js"><link rel="prefetch" href="/assets/js/188.5b1aa9be.js"><link rel="prefetch" href="/assets/js/189.d054804a.js"><link rel="prefetch" href="/assets/js/19.910fc8d0.js"><link rel="prefetch" href="/assets/js/190.c79e4c7b.js"><link rel="prefetch" href="/assets/js/191.190bbaf4.js"><link rel="prefetch" href="/assets/js/192.d0f08b9f.js"><link rel="prefetch" href="/assets/js/193.65076ebc.js"><link rel="prefetch" href="/assets/js/194.79a28f24.js"><link rel="prefetch" href="/assets/js/195.c3db4ae0.js"><link rel="prefetch" href="/assets/js/196.922f01f4.js"><link rel="prefetch" href="/assets/js/197.72fc5f68.js"><link rel="prefetch" href="/assets/js/198.3e9c7e4c.js"><link rel="prefetch" href="/assets/js/199.7c704dea.js"><link rel="prefetch" href="/assets/js/20.f2e93d17.js"><link rel="prefetch" href="/assets/js/200.8746331d.js"><link rel="prefetch" href="/assets/js/201.4698882a.js"><link rel="prefetch" href="/assets/js/202.0a8a7594.js"><link rel="prefetch" href="/assets/js/203.64f9b437.js"><link rel="prefetch" href="/assets/js/204.d6f38f7a.js"><link rel="prefetch" href="/assets/js/205.7866d898.js"><link rel="prefetch" href="/assets/js/206.9b24367e.js"><link rel="prefetch" href="/assets/js/207.2fb62ef6.js"><link rel="prefetch" href="/assets/js/208.8a29c442.js"><link rel="prefetch" href="/assets/js/21.8afea724.js"><link rel="prefetch" href="/assets/js/22.16b7f426.js"><link rel="prefetch" href="/assets/js/23.b4e38d6f.js"><link rel="prefetch" href="/assets/js/24.d54f4334.js"><link rel="prefetch" href="/assets/js/25.2d1f0877.js"><link rel="prefetch" href="/assets/js/26.d1bfb1b7.js"><link rel="prefetch" href="/assets/js/27.0610f28c.js"><link rel="prefetch" href="/assets/js/28.f1b496e3.js"><link rel="prefetch" href="/assets/js/29.08e9944c.js"><link rel="prefetch" href="/assets/js/3.970a66a4.js"><link rel="prefetch" href="/assets/js/30.ae297928.js"><link rel="prefetch" href="/assets/js/31.4fd0d93b.js"><link rel="prefetch" href="/assets/js/32.44966b63.js"><link rel="prefetch" href="/assets/js/33.eb167d44.js"><link rel="prefetch" href="/assets/js/34.295422ff.js"><link rel="prefetch" href="/assets/js/35.2c5a0b70.js"><link rel="prefetch" href="/assets/js/36.fddd48a5.js"><link rel="prefetch" href="/assets/js/37.367a54b5.js"><link rel="prefetch" href="/assets/js/38.77ea2014.js"><link rel="prefetch" href="/assets/js/39.18b0acf7.js"><link rel="prefetch" href="/assets/js/40.ee22aa00.js"><link rel="prefetch" href="/assets/js/41.8b43745c.js"><link rel="prefetch" href="/assets/js/42.66bb07f8.js"><link rel="prefetch" href="/assets/js/43.636bf8a8.js"><link rel="prefetch" href="/assets/js/44.b341b996.js"><link rel="prefetch" href="/assets/js/45.d885e19e.js"><link rel="prefetch" href="/assets/js/46.7e4d0e2f.js"><link rel="prefetch" href="/assets/js/47.3bc4cde3.js"><link rel="prefetch" href="/assets/js/48.4ee9fba2.js"><link rel="prefetch" href="/assets/js/49.14783870.js"><link rel="prefetch" href="/assets/js/5.d1da013e.js"><link rel="prefetch" href="/assets/js/50.13c266ab.js"><link rel="prefetch" href="/assets/js/51.4318da19.js"><link rel="prefetch" href="/assets/js/52.7c9cc18f.js"><link rel="prefetch" href="/assets/js/53.378b5732.js"><link rel="prefetch" href="/assets/js/54.e47e03a7.js"><link rel="prefetch" href="/assets/js/55.ee80e16b.js"><link rel="prefetch" href="/assets/js/56.e14027f4.js"><link rel="prefetch" href="/assets/js/57.b3cb8ffb.js"><link rel="prefetch" href="/assets/js/58.eb09f34e.js"><link rel="prefetch" href="/assets/js/59.a537c130.js"><link rel="prefetch" href="/assets/js/6.9bdf2d86.js"><link rel="prefetch" href="/assets/js/60.25c48265.js"><link rel="prefetch" href="/assets/js/61.8653aa8c.js"><link rel="prefetch" href="/assets/js/62.69bb406d.js"><link rel="prefetch" href="/assets/js/63.4e7c77ba.js"><link rel="prefetch" href="/assets/js/64.ecda83e6.js"><link rel="prefetch" href="/assets/js/65.55a0ff6e.js"><link rel="prefetch" href="/assets/js/66.ed942689.js"><link rel="prefetch" href="/assets/js/67.6f7c9f8c.js"><link rel="prefetch" href="/assets/js/68.006a7e36.js"><link rel="prefetch" href="/assets/js/69.574000ec.js"><link rel="prefetch" href="/assets/js/7.9ac2367b.js"><link rel="prefetch" href="/assets/js/70.e3b758e6.js"><link rel="prefetch" href="/assets/js/71.4d8bdcb1.js"><link rel="prefetch" href="/assets/js/72.c2526cec.js"><link rel="prefetch" href="/assets/js/73.d791feee.js"><link rel="prefetch" href="/assets/js/74.5973a4fb.js"><link rel="prefetch" href="/assets/js/75.69a97303.js"><link rel="prefetch" href="/assets/js/76.6241dd05.js"><link rel="prefetch" href="/assets/js/77.cc95848f.js"><link rel="prefetch" href="/assets/js/78.bf5853c2.js"><link rel="prefetch" href="/assets/js/79.6ca3cd68.js"><link rel="prefetch" href="/assets/js/8.6b13a443.js"><link rel="prefetch" href="/assets/js/80.db3dafc8.js"><link rel="prefetch" href="/assets/js/81.c48160c5.js"><link rel="prefetch" href="/assets/js/82.8c1c51fe.js"><link rel="prefetch" href="/assets/js/83.76256fe7.js"><link rel="prefetch" href="/assets/js/84.ba6c380e.js"><link rel="prefetch" href="/assets/js/85.71c3233e.js"><link rel="prefetch" href="/assets/js/86.fe0ed2a2.js"><link rel="prefetch" href="/assets/js/87.d7dca667.js"><link rel="prefetch" href="/assets/js/88.d7051ae9.js"><link rel="prefetch" href="/assets/js/89.ceed231e.js"><link rel="prefetch" href="/assets/js/90.cb5b9f7e.js"><link rel="prefetch" href="/assets/js/91.186b87b4.js"><link rel="prefetch" href="/assets/js/92.09574fb8.js"><link rel="prefetch" href="/assets/js/93.d159420a.js"><link rel="prefetch" href="/assets/js/94.59ad6229.js"><link rel="prefetch" href="/assets/js/95.06d1a88d.js"><link rel="prefetch" href="/assets/js/96.8ac1aaf0.js"><link rel="prefetch" href="/assets/js/97.b6ad2632.js"><link rel="prefetch" href="/assets/js/98.9157217b.js"><link rel="prefetch" href="/assets/js/99.c25b229f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ef35a4d2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Learn to use and manage feature flags in .NET Core, locally and with Azure</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/dotnet-azure-featureflags.html#references" class="sidebar-link">References</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/dotnet-azure-featureflags.html#using-feature-flags" class="sidebar-link">Using feature flags</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-azure-featureflags.html#no-recompile-no-redeploy" class="sidebar-link">No recompile, No redeploy</a></li></ul></li><li><a href="/pages/dotnet-azure-featureflags.html#example-usage-net-core-app" class="sidebar-link">Example usage, .NET Core App</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-azure-featureflags.html#create-flags-and-configure-your-project-to-use-them" class="sidebar-link">Create flags and configure your project to use them</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-azure-featureflags.html#render-the-content" class="sidebar-link">Render the content</a></li></ul></li><li><a href="/pages/dotnet-azure-featureflags.html#adding-azure-config-store" class="sidebar-link">Adding Azure Config Store</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/dotnet-azure-featureflags.html#set-up-secrets-storage" class="sidebar-link">Set up secrets storage</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-azure-featureflags.html#provision-azure-config-store" class="sidebar-link">Provision Azure Config Store</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-azure-featureflags.html#get-connection-string" class="sidebar-link">Get connection string</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-azure-featureflags.html#create-a-feature-flag" class="sidebar-link">Create a feature flag</a></li><li class="sidebar-sub-header"><a href="/pages/dotnet-azure-featureflags.html#configure-app-to-use-config-store" class="sidebar-link">Configure App to use Config Store</a></li></ul></li><li><a href="/pages/dotnet-azure-featureflags.html#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>Feature flags is a concept meaning that you switch features on and off via a flag. Why would you want to do that?</p> <p>Here's some good reasons:</p> <ul><li><strong>Early integration</strong>. Usually you work on a feature in a branch. The longer the feature takes to complete, the more trouble you will have with merging/rebasing, once you are done with the feature. Being able to integrate the feature into your main branch early means less of that kind of hassle. The effect of this is that you can ship a feature to production before it's ready for public use. This type of deployment is also called <em>dark deployment</em>.</li> <li><strong>A/B testing</strong>. A known pattern for trying out new, or changed features, is A/B testing. In A/B testing you want to answer a question, is A better than B. A represents one version of your app and B the other. To find this out, you create different versions of an app. Then you decide to filter your incoming user traffic so that different users ends up on different versions. You can then measure different things such as conversion rates, if you are an e-commerce, or maybe if more users click a certain button and more. One way you can use to create different versions of a site, is to ensure that different features are activated. On a website this can mean that different flags are set in <em>localStorage</em>, or you use parameters in the URL or it's decided via data from the backend.</li> <li><strong>Flighting</strong>. Flighting is a term that means that a certain percentage of users gets a new feature. It can be almost the same mechanisms at play as with A/B testing. Instead of trying to answer whether A is better than B, you try to deliver a new feature to a subset of users to see if they can use a feature without issue. If there's an issue, you can always roll back.</li></ul> <h2 id="references"><a href="#references" aria-hidden="true" class="header-anchor">#</a> References</h2> <ul><li><a href="https://docs.microsoft.com/azure/azure-app-configuration/concept-feature-management?WT.mc_id=dotnet-11820-chnoring" target="_blank" rel="noopener noreferrer">Why feature management<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.microsoft.com/en-us/azure/azure-app-configuration/quickstart-feature-flag-aspnet-core?tabs=core3x&amp;WT.mc_id=dotnet-11820-chnoring" target="_blank" rel="noopener noreferrer">Use an App Configuration store to add feature flags to ASP .NET Core<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://azure.microsoft.com/en-gb/free/?WT.mc_id=dotnet-11820-chnoring" target="_blank" rel="noopener noreferrer">Free Azure account<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="using-feature-flags"><a href="#using-feature-flags" aria-hidden="true" class="header-anchor">#</a> Using feature flags</h2> <p>Depending on if you are working on a mobile app, a webapp or some other type of software, how you implement feature flags might differ. The flow of how a feature flag is applied is roughly the same though:</p> <ol><li><p><strong>Create the flag</strong>. Create the flag with suitable name and namespace and give it a value.</p></li> <li><p><strong>Evaluate the flags value</strong>. This means that somewhere there's a line of code looking roughly like so:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// render A, else B</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Code like that might be baked into a tag component, so you might not have to write it. (That's just what it is in .NET Core)</p></li> <li><p><strong>Render different experiences</strong>. As a result of the previous bullet you end up doing something differently, either you render/don't render a certain portion of a page. Or, you redirect from one route to another route and so on. The exact details of this process is up to you, but the steps are the same.</p></li></ol> <h3 id="no-recompile-no-redeploy"><a href="#no-recompile-no-redeploy" aria-hidden="true" class="header-anchor">#</a> No recompile, No redeploy</h3> <p><img src="https://dev-to-uploads.s3.amazonaws.com/i/tbwraeu66c3d49g39pq8.png" alt="Jean Claude Van Damme from the movie, no retreat no surrender"></p> <blockquote><p>Above is Jean Claude Van Damme in the movie, No retreat, no surrender. The only way to beat the bad guy (Van Damme) was by a superior technique, taught to a young fighter by the ghost of Bruce Lee. You might not have a ghost handy, but you can make sure that the way you manage your feature flags is done with a minimum of interruption - No recompile, no redeploy.</p></blockquote> <p>You can have the flag as a variable within your code. Depending on what it's set to, the <em>feature</em> is either on or off. This has a weakness though, it forces you to change the code, recompile and redeploy it. That can work for you but oftentimes you want a different behavior, you want to be able to enable/disable flags with no compilation or redeploy. So how do you do that? You move the mechanism for managing the flags outside of your source code. There's a couple of ways to do that, and we will explore both ways:</p> <ul><li><p><strong>Configuration file</strong>. By specifying the flags and their value in a configuration file and have your app read from said file, you accomplish a decoupling of <em>flag management</em> and app.</p></li> <li><p><strong>Configuration service</strong>. A configuration service is a service endpoint, reachable by for example an HTTP request. Such a service can be placed in your companies' network or in the cloud.</p></li></ul> <p>Let's look at how you can implement feature flags in .NET Core next, with both the mentioned approaches.</p> <h2 id="example-usage-net-core-app"><a href="#example-usage-net-core-app" aria-hidden="true" class="header-anchor">#</a> Example usage, .NET Core App</h2> <p>It's possible to work with feature flags locally by using a built-in functionality in ASP .NET Core that uses a JSON file <em>appsettings.json</em>. Using said JSON files you can define what flags you have and their values. Then you can rely on decorators and built-in tags in Razor to display differently depending on the value of the flags.</p> <p>You'll start by trying out the configuration file scenario first and then move to use the App Config store in Azure.</p> <h3 id="create-flags-and-configure-your-project-to-use-them"><a href="#create-flags-and-configure-your-project-to-use-them" aria-hidden="true" class="header-anchor">#</a> Create flags and configure your project to use them</h3> <ol><li><p>Create an ASP .NET Core project with the following command:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>dotnet new mvc --no-https --output TestFeatureFlags
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The command will create an MVC project in a sub directory <code>TestFeatureFlags</code>.</p></li> <li><p>Navigate into your project:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">cd</span> TestFeatureFlags
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Add the following NuGet packages with the following command:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>dotnet <span class="token function">add</span> package Microsoft.Azure.AppConfiguration.AspNetCore
dotnet <span class="token function">add</span> package Microsoft.FeatureManagement.AspNetCore
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>Locate <code>Startup.cs</code> and add the following using statement at the top:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">using</span> Microsoft<span class="token punctuation">.</span>FeatureManagement<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>In the same file, locate <code>ConfigureServices()</code> method and add rows:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>services<span class="token punctuation">.</span><span class="token function">AddFeatureManagement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>In the same file, locate <code>Configure()</code> and add this row:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>app<span class="token punctuation">.</span><span class="token function">UseAzureAppConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>By default .NET Core reads from a <code>FeatureManagement</code> section of the config file <em>appsettings.json</em>. You can override that by specifying your own name like so in <code>ConfigureService()</code> method:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>services<span class="token punctuation">.</span><span class="token function">AddFeatureManagement</span><span class="token punctuation">(</span>options <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span>
   options<span class="token punctuation">.</span><span class="token function">UseConfiguration</span><span class="token punctuation">(</span>Configuration<span class="token punctuation">.</span><span class="token function">GetSection</span><span class="token punctuation">(</span><span class="token string">&quot;MyFeatureFlags&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>It's up to you if you want to do this change or not, we will however continue with the default, so we need to specify a <code>FeatureManagement</code> section in <em>appsetting.json</em>.</p></li> <li><p>Open <em>appsetting.json</em> and add the following JSON configuration:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;FeatureManagement&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;FeatureA&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;Beta&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;FeatureB&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
  <span class="token property">&quot;FeatureC&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;EnabledFor&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
         <span class="token punctuation">{</span>
             <span class="token property">&quot;Name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Percentage&quot;</span><span class="token punctuation">,</span>
             <span class="token property">&quot;Parameters&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                 <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">50</span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Above, you introduce the features <code>FeatureA</code>, <code>Beta</code>, <code>FeatureB</code> and <code>FeatureC</code>. Note how <code>FeatureC</code> is nested.</p></li></ol> <h3 id="render-the-content"><a href="#render-the-content" aria-hidden="true" class="header-anchor">#</a> Render the content</h3> <p>Next you will see how you can use the Razor tag <code>feature</code> and render a portion if the correct flag is enabled.</p> <ol><li><p>Locate the <em>Index.cshtml</em> file under <code>Views/Home</code>. At the top of the file add the following row:</p> <div class="language-razor line-numbers-mode"><pre class="language-text"><code>@addTagHelper *, Microsoft.FeatureManagement.AspNetCore
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This line will let you use the <code>feature</code> tag.</p></li> <li><p>In the same file, change the HTML content to this text:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text-center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>display-4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Welcome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Learn about <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://docs.microsoft.com/aspnet/core<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>building Web apps with ASP.NET Core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feature</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Beta<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>nav-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>nav-link text-dark<span class="token punctuation">&quot;</span></span> <span class="token attr-name">asp-area</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">asp-controller</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Beta<span class="token punctuation">&quot;</span></span> <span class="token attr-name">asp-action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Beta<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>feature</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Note above the usage of the <code>feature</code> tag:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>feature</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Beta<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>nav-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>nav-link text-dark<span class="token punctuation">&quot;</span></span> <span class="token attr-name">asp-area</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">asp-controller</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Beta<span class="token punctuation">&quot;</span></span> <span class="token attr-name">asp-action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>Index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Beta<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>feature</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>What you are saying is, if the flag <code>Beta</code> is set to <code>true</code>, then render this portion. Consulting your <em>appsettings.json</em> you can see the flag <code>Beta</code> is <code>true</code>, so it should work. Let's build and run our project next.</p></li> <li><p>Run the following command to build and run your project:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>dotnet build <span class="token operator">&amp;&amp;</span> dotnet run
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You see an output similar to the below:</p> <div class="language-output line-numbers-mode"><pre class="language-text"><code>info: Microsoft.Hosting.Lifetime[0]
   Now listening on: http://localhost:5000
info: Microsoft.Hosting.Lifetime[0]
   Application started. Press Ctrl+C to shut down.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>Open a browser and navigate to <code>http://localhost:5000</code>. You should see the following:</p> <p><img src="https://dev-to-uploads.s3.amazonaws.com/i/6qj4eulntohbbdtdotyk.png" alt="Webpage with beta content rendered"></p></li> <li><p>Next, open up your <em>appsetting.json</em> and set the <code>Beta</code> flag to false, like so:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;Beta&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Save the file and refresh the browser. You should now see the following:</p> <p><img src="https://dev-to-uploads.s3.amazonaws.com/i/yusdcasispqwongxfntj.png" alt="Beta content not rendered"></p></li></ol> <p>Congrats, you've managed to set up feature flags locally and control its usage via <em>appsetting.json</em> file. However, if your app is deployed to a cloud service like Azure, it's somewhat impractical to go into the deployment files, open a file and save it. I mean you can, but it feels clumsy, or even worse, change the file locally and redeploy the whole thing, yikes !</p> <p>A better approach is to rely on a configuration service. For Azure you can use something called <em>Azure Config Store</em>. Let's leverage that service next.</p> <h2 id="adding-azure-config-store"><a href="#adding-azure-config-store" aria-hidden="true" class="header-anchor">#</a> Adding Azure Config Store</h2> <p>Before we add the cloud service the review the steps we are about to take:</p> <ul><li><p><strong>Set up secrets storage</strong>. A good way of moving configuration and keys, during development, is to use the secrets storage. The secrets storage is tool that associates keys to a specific .NET Core project. Moving your app to the cloud though, you would need to use the App Configuration tab to place your secrets in or even better, Azure Key Vault.</p></li> <li><p><strong>Provision Azure Config Store</strong>. Provision the config store is straight forward. Here we will provision the store and add a feature flag that will mirror what we have in the <em>appsettings.json</em>.</p></li> <li><p><strong>Configure App to use Config Store</strong>. Finally we will configure our app to use the Config store. That's done by pointing out the connection string of the config store and one code line of configuring.</p></li></ul> <h3 id="set-up-secrets-storage"><a href="#set-up-secrets-storage" aria-hidden="true" class="header-anchor">#</a> Set up secrets storage</h3> <ol><li><p>To set up the secrets storage, run the command <code>dotnet user-secrets init</code>:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>dotnet user-secrets init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You now have a new entry in your project file ending with  <em>.csproj</em>, something similar to this:</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>UserSecretsId</span><span class="token punctuation">&gt;</span></span>9dcd0c7b-e32d-407d-aabd-d34c644ecaaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>UserSecretsId</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>We will return to secrets management once we need to persist the connection string from our cloud resource.</p></li></ol> <h3 id="provision-azure-config-store"><a href="#provision-azure-config-store" aria-hidden="true" class="header-anchor">#</a> Provision Azure Config Store</h3> <ol><li><p>To provision an <code>Azure Config Store</code>, head to <code>portal.azure.com</code>.</p></li> <li><p>Select <strong>Create a resource</strong>, from the top left menu.</p></li> <li><p>In the <strong>Search the Marketplace box</strong>, enter <em>App Configuration</em> and select <code>Enter</code>.</p></li> <li><p>Select <strong>App Configuration</strong> from the search results, and then select <strong>Create</strong>.</p></li> <li><p>On the <strong>Create App Configuration pane</strong>, enter the following settings:</p> <p><img src="https://dev-to-uploads.s3.amazonaws.com/i/cp92hadcaar9un4encmr.png" alt="Create App Config resource table"></p></li> <li><p>Select <strong>Review + create</strong> to validate your settings.</p></li> <li><p>Select <strong>Create</strong></p></li></ol> <h3 id="get-connection-string"><a href="#get-connection-string" aria-hidden="true" class="header-anchor">#</a> Get connection string</h3> <p>Once the resource has finished provisioning, head to the resource page.</p> <ol><li><p>Select <strong>Settings &gt; Access</strong> keys.</p></li> <li><p>Make a note of the primary read-only key connection string.</p></li></ol> <h3 id="create-a-feature-flag"><a href="#create-a-feature-flag" aria-hidden="true" class="header-anchor">#</a> Create a feature flag</h3> <ol><li><p>Select <strong>Operations &gt; Feature manager &gt; Add</strong>.</p></li> <li><p>In the Add pane:</p> <ol><li>check <strong>Enable feature flag</strong></li> <li>For <strong>Feature flag name</strong>, enter <em>Beta</em></li> <li>Select <strong>Apply</strong>, to create the feature flag</li></ol></li></ol> <h3 id="configure-app-to-use-config-store"><a href="#configure-app-to-use-config-store" aria-hidden="true" class="header-anchor">#</a> Configure App to use Config Store</h3> <ol><li><p>In a terminal, in your project root, run <code>dotnet user-secrets set&quot;</code>:</p> <p>Ensure you replace <strong>&quot;&lt;your connection string&gt;&quot;</strong> with the connection string you made a note of in the Azure Portal.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>dotnet user-secrets <span class="token keyword">set</span> ConnectionStrings:AppConfig <span class="token string">&quot;&lt;your_connection_string&gt;&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This will set a secret in the secrets manager that you will be able to retrieve via code next.</p></li> <li><p>Open up <em>Startup.cs</em>, locate the <code>Configure()</code> method and add the row:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>app<span class="token punctuation">.</span><span class="token function">UseAzureAppConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>In the same file, locate <code>ConfigureServices()</code> and add this row:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>services<span class="token punctuation">.</span><span class="token function">AddAzureAppConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>Open the file <em>Program.cs</em>, locate the method <code>CreateHostBuilder()</code> and replace it with the following code:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">IHostBuilder</span> <span class="token function">CreateHostBuilder</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol> <p>=&gt;
Host.CreateDefaultBuilder(args)
.ConfigureWebHostDefaults(webBuilder =&gt;
webBuilder.ConfigureAppConfiguration(config =&gt;
{
var settings = config.Build();
var connection = settings.GetConnectionString(&quot;AppConfig&quot;);
config.AddAzureAppConfiguration(options =&gt;
options.Connect(connection).UseFeatureFlags());
}).UseStartup<Startup>());</Startup></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
What you did was calling the `ConfigureAppConfiguration()` method on the `webBuilder` instance. It takes an `Action` delegate where you retrieve the `AppConfig` value from the section `ConnectingStrings`. Then you use the result string value and call `AddAzureAppConfiguration()` that connects to the Config store and instructs it to use feature flags. Next, let's rebuild and run your app and see if it works :)

1. Run the app with this terminal command:

```bash
dotnet build &amp;&amp; dotnet run
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>You should now see your app rendered like this:</p> <p><img src="https://dev-to-uploads.s3.amazonaws.com/i/6qj4eulntohbbdtdotyk.png" alt="Beta content showing in web page"></p> <p>This time, the feature flag value is read from Azure instead of from <em>appsettings.json</em></p> <ol><li><p>Let's uncheck the flag:</p> <ol><li>Return back to Azure portal and the App Config resource page:</li> <li>Select <strong>Operations &gt; Feature manager</strong></li> <li>Uncheck the checkbox for the <strong>Beta</strong> feature flag.</li> <li>Restart the app by running <code>Ctrl-C</code> followed by <code>dotnet run</code>.</li></ol> <p>This time, you should see the following image, with the <strong>Beta</strong> text gone.</p> <p><img src="https://dev-to-uploads.s3.amazonaws.com/i/yusdcasispqwongxfntj.png" alt="Feature flag off"></p></li></ol> <h2 id="summary"><a href="#summary" aria-hidden="true" class="header-anchor">#</a> Summary</h2> <p>First you learned about what feature flags are and in what scenarios they make sense to use. Then you learned some weird movie trivia about Van Damme, sorry  . After that you learned how to set up feature flag locally using the <em>appsettings.json</em> file. Finally, you learned how to use Azure App Config service and not only store your feature flags there but read their values from your app. Hopefully, this got you more interested in using the App Config service, cause there's more to learn </p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.db3c62db.js" defer></script><script src="/assets/js/9.454b5262.js" defer></script><script src="/assets/js/4.eac68367.js" defer></script><script src="/assets/js/144.7775d6c9.js" defer></script>
  </body>
</html>
