<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Serverless‚Ää‚Äî‚Ääfrom the beginning, using Azure functions ( Azure portal ), part I</title>
    <meta name="description" content="[object Object]">
    
    
    <link rel="preload" href="/assets/css/0.styles.70976983.css" as="style"><link rel="preload" href="/assets/js/app.4c69a4ef.js" as="script"><link rel="preload" href="/assets/js/5.218403d0.js" as="script"><link rel="preload" href="/assets/js/4.5f5dd8b1.js" as="script"><link rel="preload" href="/assets/js/49.1719880d.js" as="script"><link rel="prefetch" href="/assets/js/1.87395e1a.js"><link rel="prefetch" href="/assets/js/10.2588e758.js"><link rel="prefetch" href="/assets/js/11.48005f74.js"><link rel="prefetch" href="/assets/js/12.b9981aaf.js"><link rel="prefetch" href="/assets/js/13.d1becdba.js"><link rel="prefetch" href="/assets/js/14.a7701cf9.js"><link rel="prefetch" href="/assets/js/15.36fbbc15.js"><link rel="prefetch" href="/assets/js/16.74296ca2.js"><link rel="prefetch" href="/assets/js/17.c350d3df.js"><link rel="prefetch" href="/assets/js/18.a4fbd54e.js"><link rel="prefetch" href="/assets/js/19.f17e6a99.js"><link rel="prefetch" href="/assets/js/20.e7d7d3f2.js"><link rel="prefetch" href="/assets/js/21.857fd469.js"><link rel="prefetch" href="/assets/js/22.ef1b8c8b.js"><link rel="prefetch" href="/assets/js/23.87738f8f.js"><link rel="prefetch" href="/assets/js/24.61bd0c71.js"><link rel="prefetch" href="/assets/js/25.a681d41a.js"><link rel="prefetch" href="/assets/js/26.99e2b1de.js"><link rel="prefetch" href="/assets/js/27.52dec537.js"><link rel="prefetch" href="/assets/js/28.320e476f.js"><link rel="prefetch" href="/assets/js/29.323b61cd.js"><link rel="prefetch" href="/assets/js/3.045049e4.js"><link rel="prefetch" href="/assets/js/30.da44bdfc.js"><link rel="prefetch" href="/assets/js/31.1620cb59.js"><link rel="prefetch" href="/assets/js/32.a2302000.js"><link rel="prefetch" href="/assets/js/33.7c7720f9.js"><link rel="prefetch" href="/assets/js/34.df99c8d9.js"><link rel="prefetch" href="/assets/js/35.b857aa66.js"><link rel="prefetch" href="/assets/js/36.d101cdbc.js"><link rel="prefetch" href="/assets/js/37.cdfbb1d7.js"><link rel="prefetch" href="/assets/js/38.5bfe4fc1.js"><link rel="prefetch" href="/assets/js/39.73beb1e6.js"><link rel="prefetch" href="/assets/js/40.f71a2bdb.js"><link rel="prefetch" href="/assets/js/41.32179844.js"><link rel="prefetch" href="/assets/js/42.f569c591.js"><link rel="prefetch" href="/assets/js/43.a758b5c5.js"><link rel="prefetch" href="/assets/js/44.fe4016e5.js"><link rel="prefetch" href="/assets/js/45.a8fa9969.js"><link rel="prefetch" href="/assets/js/46.36a77124.js"><link rel="prefetch" href="/assets/js/47.bd8a23f9.js"><link rel="prefetch" href="/assets/js/48.53b0cbb3.js"><link rel="prefetch" href="/assets/js/50.eb953d01.js"><link rel="prefetch" href="/assets/js/51.1ff8fa08.js"><link rel="prefetch" href="/assets/js/52.e802aa14.js"><link rel="prefetch" href="/assets/js/53.251ad747.js"><link rel="prefetch" href="/assets/js/54.d1888c13.js"><link rel="prefetch" href="/assets/js/55.54c6b949.js"><link rel="prefetch" href="/assets/js/6.d2537d81.js"><link rel="prefetch" href="/assets/js/7.441ed2cb.js"><link rel="prefetch" href="/assets/js/8.f3baf431.js"><link rel="prefetch" href="/assets/js/9.eb210b13.js">
    <link rel="stylesheet" href="/assets/css/0.styles.70976983.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/author/" class="nav-link">Author</a></div><div class="nav-item"><a href="/articles/" class="nav-link">Blog</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Serverless‚Ää‚Äî‚Ääfrom the beginning, using Azure functions ( Azure portal ), part I</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/serverless-one.html#resources" class="sidebar-link">Resources</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#the-many-choices-in-the-cloud" class="sidebar-link">The many choices in the Cloud</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#introduction-to-serverless" class="sidebar-link">Introduction to Serverless</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/serverless-one.html#faas-‚Äî-function-as-a-service" class="sidebar-link">FaaS‚Ää‚Äî‚Ääfunction as a service</a></li></ul></li><li><a href="/pages/serverless-one.html#serverless-on-azure" class="sidebar-link">Serverless on Azure</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/serverless-one.html#what-else-is-there-to-know-about-serverless" class="sidebar-link">What else is there to know about Serverless?</a></li><li class="sidebar-sub-header"><a href="/pages/serverless-one.html#serverless-vs-app-services" class="sidebar-link">Serverless vs App Services</a></li></ul></li><li><a href="/pages/serverless-one.html#what-is-a-function-app" class="sidebar-link">What is a function app?</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/serverless-one.html#prerequisites" class="sidebar-link">Prerequisites</a></li></ul></li><li><a href="/pages/serverless-one.html#creating-a-function-app" class="sidebar-link">Creating a function app</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#select-the-correct-template-function-app" class="sidebar-link">Select the correct template, Function App</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#make-the-choices-in-the-template" class="sidebar-link">Make the choices in the template</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#verify-your-app" class="sidebar-link">Verify your app</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#creating-a-function-for-your-function-app" class="sidebar-link">Creating a Function, for your Function app</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#starting-fresh-‚Äî-no-functions-added-yet" class="sidebar-link">Starting fresh‚Ää‚Äî‚Ääno functions added (yet)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/serverless-one.html#select-authoring-type" class="sidebar-link">Select authoring type</a></li><li class="sidebar-sub-header"><a href="/pages/serverless-one.html#select-trigger-type" class="sidebar-link">Select trigger type</a></li><li class="sidebar-sub-header"><a href="/pages/serverless-one.html#voila-your-function-is-scaffolded" class="sidebar-link">Voila, your function is scaffolded</a></li></ul></li><li><a href="/pages/serverless-one.html#pre-existing-functions" class="sidebar-link">Pre-existing functions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/serverless-one.html#select-trigger-type-2" class="sidebar-link">Select trigger type</a></li></ul></li><li><a href="/pages/serverless-one.html#taking-it-for-a-spin" class="sidebar-link">Taking it for a spin</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#build-our-service" class="sidebar-link">Build our service</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/serverless-one.html#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="serverless-‚Äî-from-the-beginning-using-azure-functions-azure-portal-part-i"><a href="#serverless-‚Äî-from-the-beginning-using-azure-functions-azure-portal-part-i" aria-hidden="true" class="header-anchor">#</a> Serverless‚Ää‚Äî‚Ääfrom the beginning, using Azure functions ( Azure portal ), part I</h3> <p>Follow me on <a href="https://twitter.com/chris_noring" target="_blank" rel="noopener noreferrer">Twitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, happy to take your suggestions on topics or improvements /Chris</p> <p><img src="https://cdn-images-1.medium.com/max/800/0%2AT7Jl5TOHXgXQ9qOA.jpg" alt=""></p> <blockquote><p>Serverless is Cloud-computing execution model in which the cloud provider runs the server, and dynamically manages the allocation of machine resources. So essentially you can focus on writing code as your Cloud Provider does the rest</p></blockquote> <p>This is the first part of this series:</p> <ul><li>Serverless‚Ää‚Äî‚Ääfrom the beginning, using Azure functions ( Azure portal ), part I, <strong>you are here</strong></li> <li><a href="https://dev.to/azure/serverless-from-the-beginning-part-ii-getting-to-know-your-portal-ide-101k" target="_blank" rel="noopener noreferrer">Serverless‚Ää‚Äî‚Ääfrom the beginning, using Azure functions ( Azure portal ), part II<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, we will cover how to use our Portal IDE more efficiently</li> <li>Serverless‚Ää‚Äî‚Ääfrom the beginning, using Azure functions ( VS Code ), part III, in progress</li> <li>Serverless‚Ää‚Äî‚Ääfrom the beginning, using Azure functions ( Azure CLI ), part IV, in progress</li></ul> <p>In this article we will cover the following:</p> <ul><li><strong>Serverless</strong> , What is Serverless and why it may be a good choice</li> <li><strong>Function apps</strong> , triggers, and bindings</li> <li><strong>Functions</strong> in function apps, Here we will cover things like languages it supports, authoring choices, testing it out, monitoring logging and setting of authorization level and much more</li></ul> <p>We already assume that putting your apps in the Cloud is a given. With that we mean you‚Äôve seen the benefits that mean in terms of not having to maintain hardware, only pay for what you actually use and so on.</p> <blockquote><p>TLDR; if you just want to learn how to build an Azure function, and don‚Äôt want a long speech on theory, then jump to the headline called ‚ÄúCreating a function app‚Äù, you can always read some Serverless and Azure theory later üòÉ</p></blockquote> <h2 id="resources"><a href="#resources" aria-hidden="true" class="header-anchor">#</a> Resources</h2> <p>There is so much to learn on this topic and there are some great docs as well as LEARN modules to help you in your learning process:</p> <ul><li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">Azure functions docs overview<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>Azure function LEARN modules</p> <ul><li><a href="https://docs.microsoft.com/en-gb/learn/modules/create-serverless-logic-with-azure-functions/?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">Create your first Azure function<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.microsoft.com/en-gb/learn/modules/execute-azure-function-with-triggers/1-introduction?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">Execute Azure functions with triggers<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.microsoft.com/en-gb/learn/modules/chain-azure-functions-data-using-bindings/1-introduction?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">Chain Azure functions together<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="the-many-choices-in-the-cloud"><a href="#the-many-choices-in-the-cloud" aria-hidden="true" class="header-anchor">#</a> The many choices in the Cloud</h2> <p>Now, being in the Cloud means you have options, A LOT of options in fact. You can be on the lowest level deciding exactly what memory, or hard drive type, your apps can run on. Then you can be on a more managed level where you are happy to create a Virtual Machine, a so-called VM, where you can install the OS and software you need. There are still more steps on this ladder namely running your applications in App Services where you don‚Äôt have a VM anymore, just a place for your code to reside and yes you can decide what OS to run this on but that‚Äôs pretty much it, it‚Äôs a SaaS, software as a Service platform. BUT, there is a step above that‚Ää‚Äî‚ÄäServerless.</p> <h2 id="introduction-to-serverless"><a href="#introduction-to-serverless" aria-hidden="true" class="header-anchor">#</a> Introduction to Serverless</h2> <p>So what does Serverless mean? Serverless is Cloud-computing execution model in which the cloud provider runs the server, and dynamically manages the allocation of machine resources. So essentially you can focus on writing code as your Cloud Provider does the rest.</p> <h3 id="faas-‚Äî-function-as-a-service"><a href="#faas-‚Äî-function-as-a-service" aria-hidden="true" class="header-anchor">#</a> FaaS‚Ää‚Äî‚Ääfunction as a service</h3> <p>A FaaS, function as a service is a category of Cloud Computing Services and is about offering a Platform where the infrastructure is maintained and your main worry is the code you write. An application built following the above model is said to use a <em>serverless architecture</em></p> <p>All the great Cloud providers have a FaaS offering:</p> <ul><li><strong>AWS</strong> , has AWS Lambda</li> <li><strong>Google</strong> , has Google Cloud Functions</li> <li><strong>IBM/Apache</strong> , has OpenWhisk</li> <li><strong>Oracle</strong> , has Cloud Fn</li> <li><strong>Microsoft</strong> , has Microsoft Azure Functions</li></ul> <p>Ok, what benefits does it offer then?</p> <ul><li><strong>Everything is functions</strong> , Your business logic runs as functions</li> <li><strong>NO Manual provisioning</strong> , you don‚Äôt have to manually provision or scale infrastructure.</li> <li><strong>Managed infrastructure</strong> , The cloud provider manages infrastructure.</li> <li><strong>Automatic scaling</strong> , Your app is automatically scaled out or down depending on load.</li></ul> <h2 id="serverless-on-azure"><a href="#serverless-on-azure" aria-hidden="true" class="header-anchor">#</a> Serverless on Azure</h2> <p>Azure has two kinds of approaches for Serverless architecture</p> <ul><li><a href="https://azure.microsoft.com/en-gb/services/logic-apps/?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">Azure Logic Apps, intro<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, Azure Logic Apps enables you to create powerful workflows</li> <li><a href="https://azure.microsoft.com/en-gb/services/functions/?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">Azure Functions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, Azure Functions is a serverless application platform. Developers can host business logic that can be executed without provisioning infrastructure</li></ul> <h3 id="what-else-is-there-to-know-about-serverless"><a href="#what-else-is-there-to-know-about-serverless" aria-hidden="true" class="header-anchor">#</a> What else is there to know about Serverless?</h3> <blockquote><p><em>Is it all unicorns and rainbows?</em></p></blockquote> <p>Well, Serverless is definitely great but there are some things we need to know about them like:</p> <ul><li><strong>They are stateless</strong> , function instances are created and destroyed on demand. If state is required, it can be stored in an associated storage service</li> <li><strong>They are event-driven</strong> , they run only in response to an event (called a ‚Äútrigger‚Äù), such as receiving an HTTP request, or a message being added to a queue. So essentially you declare where data comes from and where it goes. You do this declaratively with something called bindings which means you don‚Äôt need to code to talk to queues, blobs, hubs, only business logic is needed</li></ul> <p><strong>They do have Drawbacks</strong> , drawbacks are in the form of limitations on <em>execution time</em> and <em>execution frequency</em>.</p> <ul><li><strong>Timeout</strong> , The timeout is 5 minutes, This timeout is configurable to a maximum of 10 minutes. If your function requires more than 10 minutes to execute, you can host it on a VM. Additionally, if your service is initiated through an HTTP request and you expect that value as an HTTP response, the timeout is further restricted to 2.5 minutes, BUT there‚Äôs also an option called <a href="https://docs.microsoft.com/en-us/azure/azure-functions/durable/durable-functions-overview?wt.mc_id=devto-blog-chnoring" target="_blank" rel="noopener noreferrer">Durable Functions<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that allows you to orchestrate the executions of multiple functions without any timeout</li> <li><strong>Execution frequency</strong> , If you expect your function to be executed continuously by multiple clients, it would be prudent to estimate the usage and calculate the cost of using functions accordingly. It might be cheaper to host your service on a VM</li></ul> <h3 id="serverless-vs-app-services"><a href="#serverless-vs-app-services" aria-hidden="true" class="header-anchor">#</a> Serverless vs App Services</h3> <p>It‚Äôs easy to think that your first go-to, for putting apps in Azure, is AppService that fits most likely with your mental model as a developers, you want to move the app that you have from On-Premise to the Cloud and to do so you need to provision databases, creating your Services in App Service and that‚Äôs it right? Well, most applications are seldom that simple, they tend to need to talk to a number of subsystems to maybe log in, or grab a piece of data somewhere or perform a computation.</p> <p>All these side things are maybe the concern of more than one app in your ecosystem so it makes sense to move them out into separate services. Then you might realize you only need to call on these services very seldom like when a new user is created or there is an incoming request. Your response at that point is maybe to place that incoming message on a Queue, or insert a row in a Database or maybe create a Slack notification.</p> <p>What we are saying here is that maybe we don‚Äôt need to pay for a full AppService and the uptime and responsiveness it gives us, but instead we need a framework that can trigger a function based on a predefined event and that can then carry out a computation that results in a side effect like calling another service/database/queue/whatever.</p> <p>Now we have come to the sweet spot where Serverless really shines, <em>seldom called services</em> that need to do something in response to some kind of event happening.</p> <p>In a word</p> <blockquote><p><em>Serverless computing helps solve the allocation problem by scaling up or down automatically, and you‚Äôre only billed when your function is processing work. Speaking of billed, if your FaaS is reading/writing towards a storage that you provisioned, then you are paying for function execution as well as that storage, so keep that in mind authoring your FaaS.</em></p></blockquote> <h2 id="what-is-a-function-app"><a href="#what-is-a-function-app" aria-hidden="true" class="header-anchor">#</a> What is a function app?</h2> <p>Functions are hosted in an execution context called a function app. Which means what? Think of the Function app as the project you host your functions in.</p> <h3 id="prerequisites"><a href="#prerequisites" aria-hidden="true" class="header-anchor">#</a> Prerequisites</h3> <p>Ok, there are some things that need to exist before we can get our function up there in the cloud. Those are:</p> <ul><li><strong>Service plan</strong> , There are two choices of plans <em>Consumption service plan</em>, CSP and <em>Azure App Service plan</em>, ASP CSP has automatic scaling and bills you when your functions are running and configurable timeout period for the execution of a function. By default, it is 5 minute, ASP allows you to avoid timeout periods by having your function run continuously on a VM that you define</li> <li><strong>Storage account</strong> , function app must be linked to a storage account. It uses this for internal operations such as logging function executions and managing execution triggers. Also, function code and configuration file are stored here</li></ul> <h2 id="creating-a-function-app"><a href="#creating-a-function-app" aria-hidden="true" class="header-anchor">#</a> Creating a function app</h2> <p>Now there are different ways of creating a Function app, namely:</p> <ul><li><strong>Portal</strong> , Using the Azure Portal</li> <li><strong>CLI</strong> , Using the Azure CLI</li> <li><strong>VS Code</strong> , Using VS Code to scaffold an Azure Function app and Azure Functions using some amazing plugins made for the purpose.</li></ul> <p>In this article, we will focus on the first option but in doing so we will put some focus on some great concepts you need to know about, so stay with me cause we are about to do some coding next:</p> <p><img src="https://cdn-images-1.medium.com/max/500/0*FN7RW_4zk91WGQ9a.gif" alt=""></p> <h2 id="select-the-correct-template-function-app"><a href="#select-the-correct-template-function-app" aria-hidden="true" class="header-anchor">#</a> Select the correct template, Function App</h2> <p>Let‚Äôs head to the portal and log in at</p> <blockquote><p><em>portal.azure.com</em></p></blockquote> <p>Once logged in select the following :</p> <p><img src="https://cdn-images-1.medium.com/max/1024/0*JPDZJqFHpzJtlQPw.png" alt=""></p> <p>So that's, selecting Create a resource, followed by Compute and finally selecting the Function App template.</p> <h2 id="make-the-choices-in-the-template"><a href="#make-the-choices-in-the-template" aria-hidden="true" class="header-anchor">#</a> Make the choices in the template</h2> <p>Once we‚Äôve selected the Function app template we need to select a few more things. Your UI will at this point look something like this:</p> <p><img src="https://cdn-images-1.medium.com/max/600/0*JLy6h_Jk4qqjhczJ.png" alt=""></p> <p>Ok so the following choices need to be made:</p> <ul><li><strong>Enter an app name</strong> , App name must be <em>globally unique</em> as it will serve as part of base URL</li> <li><strong>Select a subscription</strong> , well pick out one of the ones you have</li> <li><strong>Select a resource group</strong> , you can choose an existing resource group or create a new one, up to you</li> <li><strong>Select an OS</strong> , choices here are Windows or Linux, we opt for Windows cause we need to select something üòÉ</li> <li><strong>Select Hosting plan</strong> , this should be <em>Consumption plan</em>, we mentioned Consumption plans earlier in this article and why it‚Äôs the better choice</li> <li><strong>Select geography</strong> , well select the region closest to you</li> <li><strong>Runtime stack</strong> , this is the language you are going to be coding in so we select Javascript</li> <li><strong>Create a new storage account</strong> , let‚Äôs take an existing or create a new one</li> <li><strong>Enable application insights</strong> , for stats and other types of application tracking</li></ul> <p>Now hit the button  <strong>CREATE</strong></p> <p>This takes a while, like a few minutes. Have some coffee or other hot beverage at this point:</p> <p><img src="https://cdn-images-1.medium.com/max/500/0*_PScLnXn4uJSGshs.gif" alt=""></p> <h2 id="verify-your-app"><a href="#verify-your-app" aria-hidden="true" class="header-anchor">#</a> Verify your app</h2> <p>Check that it has a public URL and it is possible to navigate to its default page</p> <p><img src="https://cdn-images-1.medium.com/max/1024/0*8vekjnpg1OjFoUbW.png" alt=""></p> <p>Ok great we have a default page, now what? Well, it‚Äôs time to add a function to our Function app.</p> <h2 id="creating-a-function-for-your-function-app"><a href="#creating-a-function-for-your-function-app" aria-hidden="true" class="header-anchor">#</a> Creating a Function, for your Function app</h2> <p>There are two UI behaviors here depending on whether you have no functions added to your Function app, so you are starting out fresh or the second option being that you have an existing Function app with at least one function in it.</p> <p>When you create a new function there are some decisions you need to make before you can start coding like:</p> <ol><li><strong>Trigger type</strong> , this is about deciding what should trigger the invocation of your function like an HTTP call or maybe a change to a database row or something else</li> <li><strong>Authoring</strong> , there are three ways to author your function, in VS Code, Any editor + Core Tools or In-portal</li></ol> <h2 id="starting-fresh-‚Äî-no-functions-added-yet"><a href="#starting-fresh-‚Äî-no-functions-added-yet" aria-hidden="true" class="header-anchor">#</a> Starting fresh‚Ää‚Äî‚Ääno functions added (yet)</h2> <p>When adding your first function, you are presented with the Quickstart screen.</p> <p>At this point, the following is shown in the middle of the page</p> <p><img src="https://cdn-images-1.medium.com/max/472/0*eQPmtvpq7iBlRXfk.png" alt=""></p> <p>Let‚Äôs create that function by hitting New function</p> <h3 id="select-authoring-type"><a href="#select-authoring-type" aria-hidden="true" class="header-anchor">#</a> Select authoring type</h3> <p>Now you are faced with the choice of how to author your Function:</p> <ul><li><strong>VS Code</strong> , this is a great choice, plenty of plugins supporting this option</li> <li><strong>Any editor</strong> + Core tools, a more agnostic choice, but definitely a good choice as well</li> <li><strong>In-portal</strong> , you will write code in the Portal</li></ul> <p><img src="https://cdn-images-1.medium.com/max/1024/0*x2kZ3tdbFZOamZxv.png" alt=""></p> <p>For now, we will go with the In-portal option</p> <h3 id="select-trigger-type"><a href="#select-trigger-type" aria-hidden="true" class="header-anchor">#</a> Select trigger type</h3> <p>We are now faced with:</p> <ul><li><strong>Webhook + API</strong> , function will run as soon as a certain URL is hit</li> <li><strong>Timer</strong> , function will run according to a schedule</li> <li><strong>More templates</strong> , there a ton more templates worth exploring</li></ul> <p><img src="https://cdn-images-1.medium.com/max/1024/0*1qEhbpDTelYEgpnq.png" alt=""></p> <p>For now, we will go with the Webhook + API option.</p> <p>It‚Äôs a long list of templates to choose from. Don‚Äôt you feel excited that there is so much more? üòÉ</p> <h3 id="voila-your-function-is-scaffolded"><a href="#voila-your-function-is-scaffolded" aria-hidden="true" class="header-anchor">#</a> Voila, your function is scaffolded</h3> <p>This is now our coding environment:</p> <p><img src="https://cdn-images-1.medium.com/max/1024/0*m1uDb9-OoDZq6T8L.png" alt=""></p> <h2 id="pre-existing-functions"><a href="#pre-existing-functions" aria-hidden="true" class="header-anchor">#</a> Pre-existing functions</h2> <p>In this scenario, we already have at least one function in our Function app. You want to look for a text saying Function + on in the left menu, it should look like this:</p> <p><img src="https://cdn-images-1.medium.com/max/498/0*TLiNW62It41HI7Ks.png" alt=""></p> <h3 id="select-trigger-type-2"><a href="#select-trigger-type-2" aria-hidden="true" class="header-anchor">#</a> Select trigger type</h3> <p>Clicking the + sign will present you with the following screen in the main field:</p> <p><img src="https://cdn-images-1.medium.com/max/1024/0*2Hd2igr8TnqG7uQ6.png" alt=""></p> <p>This screen allows you to choose a trigger type (HTTP, Timer, or Data) and programming language (C#, JavaScript, F# or Java). Then, based on your selections, Azure will generate the function code and configuration for you with some sample code provided to display out the input data received in the log</p> <p>We choose <strong>HTTP Trigger</strong>, so the first option.</p> <p>We are then faced with naming our function and doing an initial selection on authorization level (we can change that part later on)</p> <p><img src="https://cdn-images-1.medium.com/max/960/0*UhUEIMBbr2QgUznI.png" alt=""></p> <h2 id="taking-it-for-a-spin"><a href="#taking-it-for-a-spin" aria-hidden="true" class="header-anchor">#</a> Taking it for a spin</h2> <p>We can test it in the portal or hit the URL. To get a URL we click get function URL and test it in a browser:</p> <p><img src="https://cdn-images-1.medium.com/max/1024/0*fu7rcHCoFvKfUIxy.png" alt=""></p> <p>After you‚Äôve chosen to copy the URL you head to the browser input the URL and make sure to add &amp;name=chris. Cause if you look at your Javascript code you see that it expects the parameter name in either the body or as a URL parameter. It should look like this:</p> <p><img src="https://cdn-images-1.medium.com/max/1024/0*8zk8SjZVB7HzdZpo.png" alt=""></p> <h2 id="build-our-service"><a href="#build-our-service" aria-hidden="true" class="header-anchor">#</a> Build our service</h2> <p>Ok then shall we build something more fun than a hello world? Ok, it's not going to be a ton more fun but it's at least something you can cringe over like a colleague of mine did <em>look Adam you've made it into the blog post haha</em>.</p> <p>Ok, we are going to build a‚Ä¶ wait for it, drumrolls, a <em>dad jokes</em> service. You know those really bad puns told by a parent that compels you to deny any relations to them, yes those jokes. Google is my friend, so let‚Äôs start Googling for some jokes and store them in a list:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> dadJokes <span class="token operator">=</span> <span class="token punctuation">[</span> 
 <span class="token string">&quot;Did you hear about the restaurant on the moon? Great food, no atmosphere.&quot;</span><span class="token punctuation">,</span> 
 <span class="token string">&quot;What do you call a fake noodle? An Impasta.&quot;</span><span class="token punctuation">,</span> 
 <span class="token string">&quot;How many apples grow on a tree? All of them.&quot;</span><span class="token punctuation">,</span> 
 <span class="token string">&quot;Want to hear a joke about paper? Nevermind it's tearable.&quot;</span><span class="token punctuation">,</span> 
 <span class="token string">&quot;I just watched a program about beavers. It was the best dam program I've ever seen.&quot;</span><span class="token punctuation">,</span> 
 <span class="token string">&quot;Why did the coffee file a police report? It got mugged.&quot;</span><span class="token punctuation">,</span> 
 <span class="token string">&quot;How does a penguin build it's house? Igloos it together.&quot;</span> 
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>There, if I can‚Äôt unsee it, neither can you üòâ</p> <p>Ok, next step is to find some pictures of dogs looking like they are laughing because of the Internet right üòâ</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> punDogs <span class="token operator">=</span> <span class="token punctuation">[</span> 
 <span class="token string">&quot;image1.jpg&quot;</span><span class="token punctuation">,</span> 
 <span class="token string">&quot;image2.jpg&quot;</span> 
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>What, I didn‚Äôt give you the actual image URL, you‚Äôre a big developer, I‚Äôm sure you can find pictures of dogs on the Internet, or why not cats üòâ</p> <p>Now to select a random dad joke and random image:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> newNumber <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> dadJokes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">var</span> dogImageUrl <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> punDogs<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Lastly, let‚Äôs answer with an HTML response:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>context<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">{</span> 
 status<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> 
 headers<span class="token punctuation">:</span> <span class="token punctuation">{</span> 
 <span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;text/html&quot;</span> 
 <span class="token punctuation">}</span><span class="token punctuation">,</span> 
 body<span class="token punctuation">:</span> <span class="token string">'&lt;h3&gt;'</span><span class="token operator">+</span>dadJokes<span class="token punctuation">[</span>newNumber<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'&lt;/h3&gt;'</span> <span class="token operator">+</span> <span class="token string">'&lt;br&gt;&lt;img src=&quot;'</span><span class="token operator">+</span> punDogs<span class="token punctuation">[</span>dogImageUrl<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token string">'&quot;/&gt;'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Let‚Äôs save our code and make sure to set the authorization level to <em>Anonymous.</em></p> <p><img src="https://cdn-images-1.medium.com/max/1024/1*wiekA-NZ5RI9LNbaI9MjgQ.png" alt=""></p> <p>Above we are describing how to click the menu option <code>Integrate</code> in our left menu followed by selecting <code>Anyonymous</code> in our <code>Authorization level</code> dropdown.</p> <p>Because why would we want to restrict the usage of this profound function to the outside world? üòâ</p> <p>Taking our app for a spin it now looks like this:</p> <p><img src="https://cdn-images-1.medium.com/max/800/0*iV1lLrHY2JSvvA6F.png" alt=""></p> <p>That‚Äôs it for this time. We‚Äôve taken you through building your very first app, it wasn‚Äôt that hard, was it? üòÉ</p> <h2 id="summary"><a href="#summary" aria-hidden="true" class="header-anchor">#</a> Summary</h2> <p>There is so much more to say on the Serverless topics. So many different ways we can trigger this function other than HTTP and integrations that are already there and waiting for you to use them. But we have to save something for future parts of this series. Hopefully, you‚Äôve gotten a good idea of what Serverless is and when to use it and how to create your first one of many Azure functions.</p> <p>Most of all think about the old ways of doing things like handling infrastructure yourself, and thinking about for example load balancing is a thing you barely need to consider yourself with.</p> <p>See you in the next part hopefully üòÉ</p> <hr></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4c69a4ef.js" defer></script><script src="/assets/js/5.218403d0.js" defer></script><script src="/assets/js/4.5f5dd8b1.js" defer></script><script src="/assets/js/49.1719880d.js" defer></script>
  </body>
</html>
